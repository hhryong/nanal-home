########################################################################################
# MobileMessageSevice App GateWay Config File
# version: 2.0.12
########################################################################################
# Host Info(접속정보)
# 입력 예)를 참조 (공백 '_' 포함불가)
#
#==================================
#gwIp: GateWay IP Address (목적지 IP : 모바일메시지서비스 G/W 서버 IP)
#gwPort: 30000 운영1, 40000 운영2, 50000 개발
#gwClientId: 고객사 고유ID   (시스템,발송 계정)
#gwClientPwd: 고객사 비밀번호(시스템,발송 계정 패스워드)
#==================================
# !!!! 현재는 개발서버가 없습니다. * 실제 발송 됩니다. !!!!
gwIp: [10.000.000.170]
gwPort: [30000, 40000]

gwClientId: 계정
# 패스워드에 특수문자가 들어가는 경우 시작과 끝에 쌍따움표(")를 붙여주시길 바랍니다.
# 예) "abcd!@#123"
gwClientPwd: 패스워드

########################################################################################

########################################################################################
#[DB설정1] 연결 Connect
########################################################################################
# * 중요 : 'dbName' 은 수정금지 항목 입니다.
# 가온모듈에서 어떤 DBMS를 사용하는지를 구분하는 값입니다.
# ORACLE, MSSQL, MYSQL, TIBERO, CUBRID
#==================================
# ORACLE
#==================================
#dbName: ORACLE
#dbDriverName: oracle.jdbc.driver.OracleDriver
#dbUrl: jdbc:oracle:thin:@192.168.20.77:1521:xe
#dbUser: gaon
# 패스워드에 특수문자가 들어가는 경우 시작과 끝에 쌍따움표(")를 붙여주시길 바랍니다.
# 예) "abcd!@#123"
#dbPassword: pwd
#==================================
# MSSQL (Microsoft SQL Server 6.5, 7, 2000, 2005, 2008 and 2012)까지 지원
#==================================
#dbName: MSSQL
#dbDriverName: net.sourceforge.jtds.jdbc.Driver
##dbDriverName: com.microsoft.sqlserver.jdbc.SQLServerDriver
#dbUrl: jdbc:sqlserver://localhost:1433;database=데이타베이스명
#dbUser: gaon
# 패스워드에 특수문자가 들어가는 경우 시작과 끝에 쌍따움표(")를 붙여주시길 바랍니다.
# 예) "abcd!@#123"
#dbPassword: pwd
#==================================
# MYSQL & mariaDB
#==================================
#dbName: MYSQL
#dbDriverName: com.mysql.jdbc.Driver
#dbUrl: jdbc:mysql://서버주소:3306/데이타베이스명?useSSL=false
#dbUser: gaon
# 패스워드에 특수문자가 들어가는 경우 시작과 끝에 쌍따움표(")를 붙여주시길 바랍니다.
# 예) "abcd!@#123"
#dbPassword: pwd
#==================================
# TIBERO
#==================================
#dbName: TIBERO
#dbDriverName: com.tmax.tibero.jdbc.TbDriver
#dbUrl: jdbc:tibero:thin:@192.168.20.77:8629:tibero
#dbUser: gaon
# 패스워드에 특수문자가 들어가는 경우 시작과 끝에 쌍따움표(")를 붙여주시길 바랍니다.
# 예) "abcd!@#123"
#dbPassword: pwd
#==================================
# CUBRID
#==================================
#dbName: CUBRID
#dbDriverName: cubrid.jdbc.driver.CUBRIDDriver
#dbUrl: jdbc:cubrid:DB서버주소:33000:데이터베이스명:::
#dbUser: gaon
# 패스워드에 특수문자가 들어가는 경우 시작과 끝에 쌍따움표(")를 붙여주시길 바랍니다.
# 예) "abcd!@#123"
#dbPassword: pwd
#==================================
# POSTGRESQL
#==================================
#dbName: POSTGRESQL
#dbDriverName: org.postgresql.Driver
#dbUrl: jdbc:postgresql://아이피:포트/데이터베이스명
#dbUser: gaon
# 패스워드에 특수문자가 들어가는 경우 시작과 끝에 쌍따움표(")를 붙여주시길 바랍니다.
# 예) "abcd!@#123"
#dbPassword: pwd
#==================================
# dbName: MYSQL 은 수정금지 항목 입니다.
dbName: MYSQL
#==================================
dbDriverName: com.mysql.jdbc.Driver
dbUrl: jdbc:mysql://localhost:3306/board?useSSL=false
dbUser: user
# 패스워드에 특수문자가 들어가는 경우 시작과 끝에 쌍따움표(")를 붙여주시길 바랍니다.
# 예) "abcd!@#123"
dbPassword: passwd
#==================================
ALTIBASE
#==================================
dbName: ALTIBASE
dbDriverName: Altibase.jdbc.driver.AltibaseDriver
dbUrl: "jdbc:Altibase://192.168.170.128:20300/mydb?encoding=MS949"
dbUser: sys
dbPassword: manager

########################################################################################
#[DB설정3] 테이블 레벨 문자셋 설정(CUBRID, MYSQL만 지원)
########################################################################################
dbCharset: UTF8


########################################################################################
#[DB설정2] 테이블명
########################################################################################
# 사용하는 테이블 명을 변경하는 옵션
# 기존에 테이블 명을 사용자가 임의의 테이블 명으로 변경할 수 있다.
# 테이블명 대,소문자 구분 DBMS 에 맞게 설정
# 아래 예와 같이 설정을 하면
# 기본값 :  테이블 설정 (DBMS 마다 대소문자 식별할 경우도 있음)
# ORACLE, TIBERO의 경우 대문자만
# POSTGRESQL의 경우 소문자만
########################################################################################
# 알림톡 기본테이블 명
########################################################################################
appSendContentsTableName: app_send_contents
appSendDataTableName: app_send_data
appSendDataLogTableName: app_send_data_log
templateCodeTableName: app_template_code
########################################################################################
# 누리테이블 명, 알림톡 실패시 입력할 테이블명
########################################################################################
msgDataTableName: nuri_msg_data
msgContentsInfoTableName: nuri_mms_contents_info
########################################################################################

########################################################################################
# 사용자 정의 컬럼, 인덱스를 추가할수 있는 최대 갯수 (최댓값 10)
########################################################################################
maxCustomColumnIndexCount: 10

########################################################################################
# 사용자 정의 컬럼
########################################################################################
#
# 사용할 테이블만 주석을 제거한 후 사용
# {COLUMN NAME} {COLUMN TYPE} 형식으로 작성
# 주석부분 제거 후 사용
########################################################################################
# APP_SEND_DATA테이블에 추가할 컬럼
#customColumnForAppSendData:
#  - COLUMN1 VARCHAR(100)
#  - COLUMN2 VARCHAR(200)
  

########################################################################################
# 사용자 정의 인덱스
# indexName : 인덱스 이름
# columns: 인덱스에 추가할 컬럼 (컬럼이 여러개인경우 콤마(,)로 구분지어서 넣음)
# 주석된 부분 제거후 사용
########################################################################################
# APP_SEND_DATA 테이블에 추가할 인덱스
#customIndex:
#  - indexName: TEST_INDEX
#    columns: SUB_ID DESC, CALL_BACK ASC
#  - indexName: test2
#    columns: test2 desc, test2 asc

########################################################################################
#[발송기능설정] MSG_DATA 시퀀스, MMS_CONTENTS_INFO
########################################################################################
# 알림톡 실패시 SMS/LMS 로 처리하기 위해 사용 필수 설정.
# - 알림톡 메시지 전송 실패시 SMS/LMS 로 재발송 처리
# - 자동 재발송처리를 위한 설정 입니다.
########################################################################################
# DEFAULT인 경우 SMS/LMS 발송시 APP_SEND_CONTENTS의 PACK_UNIQUEKEY컬럼의 값을 NURI_MMS_CONTENTS_INFO의 CONT_SEQ컬럼에 복사해서 삽입하고,
#   APP_SEND_DATA의 NURI_MSG_SEQ컬럼의 값을 NURI_MSG_DATA의 MSG_SEQ컬럼에 복사해서 삽입한다.
#
# AUTO인 경우 NURI_MSG_DATA의 MSG_SEQ와 NURI_MMS_CONTENTS_INFO의 CONT_SEQ가 AUTO_INCREMENT설정이 되있는 상태로 그냥 삽입함.
# NURI_MSG_DATA, NURI_MMS_CONTENTS_INFO를 위한 시퀀스를 사용하는 경우, 해당 시퀀스 이름을 입력하면
# 해당 시퀀스를 사용해서 삽입한다.
########################################################################################
# [설정방법 1]. 기본(누리 시퀀시 계속사용기관)
# ======================================================================================
# msgDataSeq: DEFAULT
# msgContentsInfoSeq: DEFAULT
# --------------------------------------------------------------------------------------
# APP_SEND_CONTENTS.PACK_UNIQUEKEY ▶ (복사, PACK_UNIQUEKEY) NURI_MMS_CONTENTS_INFO.CONT_SEQ
# APP_SEND_DATA.MSG_SEQ            ▶ (복사, NURI_MSG_SEQ  ) NURI_MSG_DATA.MSG_SEQ
# ======================================================================================
# [설정방법 2]. 시퀀스별도 사용,  APP 실패시 누리테이블에는 신규 시퀀스로 입력
# ======================================================================================
# msgDataSeq: NURI_MSG_DATA_SEQ
# msgContentsInfoSeq: NURI_MMS_CONTENTS_INFO_SEQ
# --------------------
# APP_SEND_CONTENTS.PACK_UNIQUEKEY ▶(신규입력, NURI_MMS_CONTENTS_INFO_SEQ.NEXTVAL) NURI_MMS_CONTENTS_INFO.CONT_SEQ
# APP_SEND_DATA.MSG_SEQ            ▶(신규입력, NURI_MSG_DATA_SEQ.NEXTVAL) NURI_MSG_DATA.MSG_SEQ
# ======================================================================================
# [설정방법 3]. AUTO (시퀀스 미사용기관) * Auto_Increment 는 권장하지 않음.
# 시퀀스를 사용하지 않으면 MSG_SEQ를 중복 발생.
# ======================================================================================
# msgDataSeq: AUTO
# msgContentsInfoSeq: AUTO
# --------------------
# APP_SEND_CONTENTS.PACK_UNIQUEKEY ▶ (신규입력, Auto_Increment) NURI_MMS_CONTENTS_INFO.CONT_SEQ
# APP_SEND_DATA.MSG_SEQ(NULL)      ▶ (신규입력, Auto_Increment) NURI_MSG_DATA.MSG_SEQ
# ======================================================================================
# MSG_DATA 시퀀스
# ======================================================================================
msgDataSeq: DEFAULT
#msgDataSeq: AUTO
#msgDataSeq: NURI_MSG_DATA_SEQ
# ======================================================================================
# NURI_MMS_CONTENTS_INFO 시퀀스
msgContentsInfoSeq: DEFAULT
#msgContentsInfoSeq: AUTO
#msgContentsInfoSeq: NURI_MMS_CONTENTS_INFO_SEQ
########################################################################################
#알림톡 실패시 NURI이용 메시지 발송 여부 (yes|no)
########################################################################################
useLms: yes

# NURI이용 메시지 발송시 사용자 정의 컬럼데이터도 같이 복사할 것인지 여부
# NURI의 NURI_MSG_DATA테이블에 같은 사용자 정의 컬럼이 만들어져 있어야함
copyCustomColumnWhenSendLms: yes
########################################################################################



########################################################################################
# 테이블 로그 기록
########################################################################################
# yes인 경우 
# 로그 테이블을 생성
# APP_SEND_DATA 테이블에서 발송 완료 되고 결과까지 다 받은 데이터를 로그테이블로 이관
# no인 경우
# 로그 테이블 생성하지 않음
# APP_SEND_DATA에 계속 데이터 누적
isTransferLog: yes

# yes인 경우 서버로 부터 결과를 받을 때마다 로그테이블로 이관시킬 수 있는 데이터가 있는지 확인 후 로그 테이블로 이동
# no인  경우 5분에 한번씩 로그테이블로 이관시킬 수 있는 데이터가 있는지 확인 후 로그 테이블로 이동
# no로 설정할 것을 권장함
logRealTime: yes


# LOG 테이블 관리
# LOG_TABLE_YYYYMM 형식으로 여러개 쪼갤 것인지
# 하나의 LOG_TABLE로 만들것인가
# ONE, DEFAULT(YYYYMM)
#makeLogMode: DEFAULT
makeLogMode: ONE

#######################################################################################
# 발송 제한 시간 설정 (해당 시간동안 메시지를 발송하지 않음)
# 24시간제로 설정
# HH:mm:ss 또는 HHmmss
# 시작과 종료시간이 같으면 발송시간 제한 설정 사용 안함
#######################################################################################
noSendTimeStart: 09:00:00
noSendTimeEnd: 00:00:00

########################################################################################
# 서버에 접속 실패시 재접속시도 관련
########################################################################################
# 몇분 간격으로 재접속 시도를 할것인가 (1~)
retryTime: 1
# 재접속 시도를 몇번 할 것인가
# 재접속 시도를 초과하면 클라이언트 종료됨
# 0으로 설정시 무한히 재접속시도
retryCount: 10
# retryTime 간격으로 retryCount만큼 재접속 시도를 해도 실패한 경우
# 문자로 보낼 것인지 여부
# yes인 경우 문자발송 후 다시 재접속 시도
# no인 경우 모듈 종료
# retryCount를 0으로 설정해두면 해당 옵션이 yes여도 문자 발송 안함
sendLmsWhenRetryEnd: no
# 서버에 접속 실패시 재시도를 하지 않고 바로 sms/lms로 보낼것인지 (yes | no)
# yes로 설정하면 위의 retryTime과 retryCount 설정 무시됨
sendLmsWhenConnectionFail: yes

# 서버가 살아 있는지 확인하기 위해 접속 시도 할때의 타임아웃
socketConnectionTimeOut: 5

# 인증 실패시 재인증 시도 횟수(최소: 1회)
authCount: 6
# 인증 실패시 재인증을 몇 분주기로 시도할지 설정(단위: 분, 최소: 1분)
authTime: 10
########################################################################################
# 로그파일 저장 기간
# 일정기간 지난 로그파일을 삭제함 (1 ~ )
# 단위: 일
########################################################################################
logSaveTerm: 999

########################################################################################
# Log파일을 저장할 위치
# default : ./GaonLog/
########################################################################################
logFilePath: ./gaon_log

########################################################################################
# DB에서 메시지를 읽어오는 주기 (단위: 초)
# 최소값 1초
########################################################################################
tranTerm: 1

########################################################################################
# 메시지를 전송 할때 몇시간 전 메시지까지만 보낼 것인가 (단위: 시간)
# 최소값 3 시간
########################################################################################
beforeTime: 3

########################################################################################
# 하루에 한 번호에 보낼 수 있는 최대 건수
# 0은 무제한
########################################################################################
duplicatePhoneCount: 0

########################################################################################
# 타임아웃 제한 시간
# 해당 시간동안 서버로부터 응답이 없으면 타임아웃(단위: 분)
# 최소값 10분
########################################################################################
timeoutLimit: 10

########################################################################################
# 동보전송에 보낼 수 있는 최대 연락처 갯수
########################################################################################
# 동보 전송에 최대 포함될 수 있는 연락처 갯수
# 범위 10 ~ 1000(MAX)
groupMessageCount: 150

########################################################################################
# log 기록 범위 설정
# FATAL : 치명적에러
# ERROR : 수행가능정도의에러
# WARN  : 시스템에 문제를 일으킬가능성이 있을때 사용
# INFO  : 정보용으로 사용
# DEBUG : 원인분석용 (임시로만사용, 로그양이 많음)
# ex)loggerLevel: FATAL,ERROR,WARN,INFO,DEBUG
# 전송클라이언트로그, 송신클라이언트로그, 정보로그
# DEBUG > INFO > WARN, ERROR, FATAL
loggerLevel: INFO

########################################################################################
# 문자 발송 제외 에러코드
########################################################################################
# 알림톡 발송 실패시 특정 에러코드는 문자로 전환되지 않도록 설정
excludeLmsError: ['3011', '9991', '9992']
########################################################################################

########################################################################################
# 문자 보낼시에 머릿말을 포함해서 보낼 것인지 여부
########################################################################################
lmsIncludeHeader: no